CREATE TYPE perfil_usuario AS ENUM ('cliente', 'profissional', 'admin');

CREATE TABLE usuarios (
    id_usuario SERIAL NOT NULL PRIMARY KEY,
    nome_usuario VARCHAR(60) NOT NULL, 
    email VARCHAR(70) NOT NULL,
    senha VARCHAR(10) NOT NULL,
    perfil perfil_usuario NOT NULL,
	telefone varchar(50),
	endereco varchar(100),
	numero varchar(10),
	cep varchar(20)
);

CREATE TABLE servicos (
    id_servico SERIAL NOT NULL PRIMARY KEY,
    lista_servico VARCHAR(60) NOT NULL,
    valor_servico decimal(15,2) NOT NULL
);

CREATE TABLE agenda(
    id_agenda SERIAL NOT NULL PRIMARY KEY,
    data_agenda  date NOT NULL,
    hora_agenda time NOT NULL,
    id_cliente SERIAL NOT NULL,
    id_profissional SERIAL NOT NULL, 
    id_servico SERIAL NOT NULL,
    FOREIGN KEY(id_profissional) references usuario (id_usuario),
    FOREIGN KEY(id_cliente) references usuario (id_cliente),
    FOREIGN KEY(id_servico) references servicos (id_servico)
)
